# Issue #1: TradingOrchestrator - –ì–ª–∞–≤–Ω—ã–π –¥–∏—Ä–∏–∂–µ—Ä

**üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:** $240 (16 —á–∞—Å–æ–≤ √ó $15/—á–∞—Å)  
**üî• –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**üèóÔ∏è Milestone:** M1 - –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã  
**üè∑Ô∏è Labels:** `critical`, `architecture`, `refactoring`

## üìù –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í—Å—è —Ç–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∞ –≤ `run_realtime_trading.py` (400+ —Å—Ç—Ä–æ–∫). –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç:
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∫–æ–¥–∞
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
- –°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –í—ã—Å–æ–∫—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Å—Ç–∞–Ω–µ—Ç –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–π –ª–æ–≥–∏–∫–∏.

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. –°–æ–∑–¥–∞—Ç—å `domain/services/trading_orchestrator.py`

```python
class TradingOrchestrator:
    def __init__(
        self,
        signal_aggregator: SignalAggregationService,
        order_executor: OrderExecutionService, 
        risk_manager: RiskManagementService,
        market_analyzer: MarketDataAnalyzer,
        state_manager: StateManagementService
    ):
        self.signal_aggregator = signal_aggregator
        self.order_executor = order_executor
        self.risk_manager = risk_manager  
        self.market_analyzer = market_analyzer
        self.state_manager = state_manager
        
    async def process_market_tick(self, ticker_data: Dict) -> None:
        \"\"\"–ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Ç–∏–∫–∞\"\"\"
        
    async def handle_buy_signal(self, signal_data: Dict) -> None:
        \"\"\"–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–∞ –ø–æ–∫—É–ø–∫–∏\"\"\"
        
    async def handle_sell_signal(self, signal_data: Dict) -> None:
        \"\"\"–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–∞ –ø—Ä–æ–¥–∞–∂–∏\"\"\"
        
    async def update_open_positions(self) -> None:
        \"\"\"–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π\"\"\"
```

### 2. –í—ã–Ω–µ—Å—Ç–∏ –∏–∑ `run_realtime_trading.py`:

- **–õ–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π** ‚Üí `TradingOrchestrator.handle_buy_signal()`
- **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏** ‚Üí `TradingOrchestrator.process_market_tick()`  
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å–¥–µ–ª–æ–∫** ‚Üí `TradingOrchestrator.update_open_positions()`
- **State management** ‚Üí –æ—Ç–¥–µ–ª—å–Ω—ã–π `StateManagementService`

### 3. –£–ø—Ä–æ—Å—Ç–∏—Ç—å `run_realtime_trading.py`:

```python
async def run_realtime_trading(...):
    orchestrator = TradingOrchestrator(...)
    
    while True:
        ticker_data = await connector.watch_ticker(symbol)
        await orchestrator.process_market_tick(ticker_data)
```

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] –°–æ–∑–¥–∞–Ω `TradingOrchestrator` —Å —á–µ—Ç–∫–∏–º API
- [ ] –†–∞–∑–º–µ—Ä `run_realtime_trading.py` —É–º–µ–Ω—å—à–µ–Ω —Å 400+ –¥–æ <100 —Å—Ç—Ä–æ–∫
- [ ] –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
- [ ] –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã unit-—Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Unit —Ç–µ—Å—Ç—ã:**
   - –¢–µ—Å—Ç –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –≤ `handle_buy_signal`
   - –¢–µ—Å—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ `process_market_tick`
   - Mock –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

2. **Integration —Ç–µ—Å—Ç—ã:**
   - –¢–µ—Å—Ç —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–Ω–æ mock –±–∏—Ä–∂–∏)
   - –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ä—ã–Ω–∫–∞

3. **Performance —Ç–µ—Å—Ç—ã:**
   - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–∫–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < 5–º—Å
   - Memory leaks –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

- **–ë–ª–æ–∫–∏—Ä—É–µ—Ç:** Issue #2 (OrderExecutionService), Issue #3 (RiskManagementService)
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** –ù–µ—Ç (–º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
- **–°–≤—è–∑–∞–Ω–æ —Å:** Issue #5 (SignalAggregationService), Issue #7 (StateManagementService)

## üìã –ü–æ–¥–∑–∞–¥–∞—á–∏

- [ ] –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å TradingOrchestrator
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–∞  
- [ ] –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ buy signals
- [ ] –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ market ticks
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å run_realtime_trading.py
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å integration —Ç–µ—Å—Ç—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] Code review –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å stateless - –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ StateManagementService
- –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–æ—Ä—è—á–µ–π –∑–∞–º–µ–Ω—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Ç–æ—Ä–≥–æ–≤–ª–∏
- –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±—É–¥—É—â–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ multiple trading pairs
